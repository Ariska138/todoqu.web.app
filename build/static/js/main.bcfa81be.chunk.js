(this["webpackJsonpto-do"]=this["webpackJsonpto-do"]||[]).push([[0],{222:function(e,t,n){},420:function(e,t,n){"use strict";n.r(t);var r=n(31),c=n(0),a=n.n(c),s=n(25),i=n.n(s),o=(n(222),n(21)),l=n(6),u=n(30),d=n(51),b=n(52),h=n(54),j=n(53),f=(n(223),n(8)),p=n(2),O=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={email:"",password:""},e.handleChange=function(t){e.setState(Object(u.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),console.log(e.state),e.props.signIn(e.state)},e}return Object(b.a)(n,[{key:"render",value:function(){return this.props.uid?Object(p.jsx)(l.a,{to:"/"}):Object(p.jsxs)("div",{className:"container my-5",children:[Object(p.jsx)("h1",{children:" Sign In"}),Object(p.jsxs)("form",{autoComplete:"off",onSubmit:this.handleSubmit,children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"email",children:"Email address"}),Object(p.jsx)("input",{type:"email",className:"form-control",id:"email",onChange:this.handleChange})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"password",children:"Password"}),Object(p.jsx)("input",{type:"password",className:"form-control",id:"password",onChange:this.handleChange})]}),Object(p.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Sign In"})]})]})}}]),n}(c.Component),m=Object(f.b)((function(e){return console.log(e),{uid:e.firebase.auth.uid}}),(function(e){return{signIn:function(t){return e(function(e){return function(t,n,r){(0,r.getFirebase)().auth().signInWithEmailAndPassword(e.email,e.password).then((function(){t({type:"SIGN_IN"})})).catch((function(e){t({type:"SIGN_IN_ERR"},e)}))}}(t))}}}))(O),g=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={email:"",password:""},e.handleChange=function(t){e.setState(Object(u.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),console.log(e.state),e.props.signUp(e.state)},e}return Object(b.a)(n,[{key:"render",value:function(){return this.props.uid?Object(p.jsx)(l.a,{to:"/"}):Object(p.jsxs)("div",{className:"container my-5",children:[Object(p.jsx)("h1",{children:" Sign Up"}),Object(p.jsxs)("form",{autoComplete:"off",onSubmit:this.handleSubmit,children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"email",children:"Email address"}),Object(p.jsx)("input",{type:"email",className:"form-control",id:"email",onChange:this.handleChange})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"password",children:"Password"}),Object(p.jsx)("input",{type:"password",className:"form-control",id:"password",onChange:this.handleChange})]}),Object(p.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Sign Up"})]})]})}}]),n}(c.Component),x=Object(f.b)((function(e){return{uid:e.firebase.auth.uid}}),(function(e){return{signUp:function(t){return e(function(e){return function(t,n,r){(0,r.getFirebase)().auth().createUserWithEmailAndPassword(e.email,e.password).then((function(){t({type:"SIGN_UP"})})).catch((function(e){t({type:"SIGN_UP_ERR"},e)}))}}(t))}}}))(g),v=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={task:""},e.handleChange=function(t){e.setState(Object(u.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.addTask(e.state),document.getElementById("addTaskForm").reset(),console.log(e.state)},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"my-5",children:Object(p.jsxs)("form",{id:"addTaskForm",autoComplete:"off",onSubmit:this.handleSubmit,children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"task",children:"Add Task"}),Object(p.jsx)("input",{type:"text",className:"form-control",id:"task",onChange:this.handleChange})]}),Object(p.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add"})]})})}}]),n}(c.Component),k=Object(f.b)(null,(function(e){return{addTask:function(t){return e(function(e){return function(t,n,c){var a=(0,c.getFirebase)().firestore(),s=n().firebase.auth.uid;a.collection("tasks").add(Object(r.a)(Object(r.a)({},e),{},{authorId:s,date:new Date})).then((function(){t({type:"ADD_TASK",task:e})})).catch((function(e){t({type:"ADD_TASK_ERR",err:e})}))}}(t))}}}))(v),y=n(216),w=n.n(y),S=function(e){var t=e.checked,n=e.onClick;return!0===t?Object(p.jsx)("span",{className:"material-icons text-success",style:{cursor:"pointer"},onClick:n,children:"check_circle_outline"}):Object(p.jsx)("span",{className:"material-icons text-muted",style:{cursor:"pointer"},onClick:n,children:"check_circle_outline"})},N=Object(f.b)(null,(function(e){return{removeTask:function(t){return e(function(e){return function(t,n,r){(0,r.getFirebase)().firestore().collection("tasks").doc(e.id).delete().then((function(){t({type:"REMOVE_TASK"})})).catch((function(e){t({type:"REMOVE_TASK_ERR",err:e})}))}}(t))},toggleChecked:function(t){return e(function(e){return function(t,n,c){(0,c.getFirebase)().firestore().collection("tasks").doc(e.id).set(Object(r.a)(Object(r.a)({},e),{},{checked:!e.checked}),{merge:!0}).then((function(){t({type:"TOGGLE_CHECKED",task:e})})).catch((function(e){t({type:"TOGGLE_CHECKED_ERR",err:e})}))}}(t))}}}))((function(e){var t=e.task,n=e.removeTask,r=e.toggleChecked;return Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"row",children:t.task}),Object(p.jsx)("td",{children:w()(t.date.toDate()).calendar()}),Object(p.jsx)("td",{children:Object(p.jsx)(S,{onClick:function(){return function(e){r(e)}(t)},checked:t.checked})}),Object(p.jsx)("td",{children:Object(p.jsx)("span",{className:"material-icons text-danger",style:{cursor:"pointer"},onClick:function(){return function(e){n(e)}(t)},children:"delete"})})]})})),C=n(41),E=n(29),_=Object(C.c)(Object(f.b)((function(e){return console.log(e),{tasks:e.firestore.ordered.tasks,uid:e.firebase.auth.uid}})),Object(E.firestoreConnect)((function(e){return[{collection:"tasks",where:["authorId","==",e.uid],orderBy:["date","desc"]}]})))((function(e){var t=e.tasks;return Object(p.jsxs)("table",{className:"table table-striped table-dark",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{className:"text-info",children:[Object(p.jsx)("th",{scope:"col",children:"Tasks"}),Object(p.jsx)("th",{scope:"col",children:"Added On"}),Object(p.jsx)("th",{scope:"col",children:"Status"}),Object(p.jsx)("th",{scope:"col",children:"Delete"})]})}),Object(p.jsx)("tbody",{children:t&&t.map((function(e){return Object(p.jsx)(N,{task:e},e.id)}))})]})})),A=Object(f.b)((function(e){return{uid:e.firebase.auth.uid}}))((function(e){return e.uid?Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("h3",{children:"Dashboard"}),Object(p.jsx)(k,{}),Object(p.jsx)(_,{})]}):Object(p.jsx)(l.a,{to:"/signin"})})),R=Object(f.b)((function(e){return{uid:e.firebase.auth.uid}}),(function(e){return{signOut:function(){return e((function(e,t,n){(0,n.getFirebase)().auth().signOut().then((function(){e({type:"SIGN_OUT"})}))}))}}}))((function(e){var t=e.signOut;return e.uid?Object(p.jsx)(o.b,{to:"/signin",className:"nav-link",onClick:t,children:"Sign Out"}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(o.b,{to:"/signup",className:"nav-link",children:"Sign Up"}),Object(p.jsx)(o.b,{to:"/signin",className:"nav-link",children:"Sign In"})]})})),I=Object(f.b)((function(e){console.log(e)}))((function(){return Object(p.jsxs)("nav",{className:"navbar-light bg-light d-flex justify-content-center",children:[Object(p.jsx)(o.b,{to:"/",className:"navbar-brand",children:Object(p.jsx)("h3",{children:"TodoQu"})}),Object(p.jsx)(R,{})]})})),T=n(14);n(385);var D=function(){return Object(p.jsxs)(o.a,{children:[Object(p.jsx)(T.a,{}),Object(p.jsx)(I,{}),Object(p.jsxs)(l.d,{children:[Object(p.jsx)(l.b,{path:"/signin",component:m}),Object(p.jsx)(l.b,{path:"/signup",component:x}),Object(p.jsx)(l.b,{path:"/",component:A})]})]})},F=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function G(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(386);var U=n(94),K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TASK":return T.b.success("Added a task"),e;case"ADD_TASK_ERR":return T.b.error("An Error occured"),e;case"REMOVE_TASK":return T.b.warn("A tas was removed..."),e;case"REMOVE_TASK_ERR":return T.b.error("A task remove error occured..."),e;case"TOGGLE_CHECKED":return T.b.info("A task status changed..."),e;case"TOGGLE_CHECKED_ERR":return T.b.error("A task status change error occured..."),e;default:return e}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return Object(T.b)("Welcome back.."),e;case"SIGN_IN_ERR":return T.b.error("Sign in error..."),e;case"SIGN_OUT":return Object(T.b)("You signed out.."),e;case"SIGN_UP":return Object(T.b)("Welcome.."),e;case"SIGN_UP_ERR":return T.b.error("Sign up error..."),e;default:return e}},P=Object(C.b)({firebase:E.firebaseReducer,firestore:U.firestoreReducer,task:K,auth:W}),L=n(217),H=n(95),B=n.n(H);n(418),n(419);B.a.initializeApp({apiKey:"AIzaSyCrbDjDaa1T7KiXggar16mHLid96Haw4zo",authDomain:"todoqu.firebaseapp.com",databaseURL:"https://todoqu.firebaseio.com",projectId:"todoqu",storageBucket:"todoqu.appspot.com",messagingSenderId:"135932337458",appId:"1:135932337458:web:e5938be044bb4e6c444b2b"}),B.a.firestore();var M=B.a,q=Object(C.d)(P,Object(C.a)(L.a.withExtraArgument({getFirebase:E.getFirebase}))),V={firebase:M,config:{},dispatch:q.dispatch,createFirestoreInstance:U.createFirestoreInstance};function z(e){var t=e.children,n=Object(f.c)((function(e){return e.firebase.auth}));return Object(E.isLoaded)(n)?t:Object(p.jsx)("div",{className:"text-center",children:Object(p.jsx)("div",{className:"spinner-grow text-primary",style:{width:"7rem",height:"7rem"},role:"status",children:Object(p.jsx)("span",{className:"sr-only",children:"Loading..."})})})}i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(f.a,{store:q,children:Object(p.jsx)(E.ReactReduxFirebaseProvider,Object(r.a)(Object(r.a)({},V),{},{children:Object(p.jsx)(z,{children:Object(p.jsx)(D,{})})}))})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");F?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):G(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):G(t,e)}))}}()}},[[420,1,2]]]);
//# sourceMappingURL=main.bcfa81be.chunk.js.map